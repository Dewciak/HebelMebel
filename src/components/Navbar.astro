---
import Logo from "./Logo.astro";
import HamburgerMenu from "./HamburgerMenu";
import MobileMenu from "./MobileMenu";
---

<div class="w-full fixed bg-white z-[100]">
  <div class="max-w-[2000px] mx-auto grid grid-cols-3 py-6 justify-center px-14 items-center text-MyGray hover:text-MyLightGray font-extralight">
    <ul class="flex text-[1.2rem] text-right space-x-14" id="navbar-links">
      <li>
        <a href="#Realizations" class="navbar-link">REALIZACJE</a>
      </li>
      <li>
        <a href="#AboutUs" class="navbar-link">O NAS</a>
      </li>
      <li>
        <a href="#Furnitures" class="navbar-link">MEBLE</a>
      </li>
      <li>
        <a href="#Footer" class="navbar-link">KONTAKT</a>
      </li>
    </ul>
    <a href="/">
      <Logo />
    </a>
    <ul class="flex text-[1.2rem] text-left space-x-14">
      <li>
        <a class="navbar-link">STOŁY</a>
      </li>
      <li>
        <a class="navbar-link">KOMODY</a>
      </li>
      <li>
        <a class="navbar-link">REGAŁY</a>
      </li>
      <li>
        <a class="navbar-link">SZAFKI</a>
      </li>
    </ul>
  </div>
</div>

<script>
 document.addEventListener('DOMContentLoaded', () => {
  const sections = document.querySelectorAll('section');
  const navbarLinks = document.querySelectorAll('.navbar-link');

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      const id = entry.target.id;
      const link = document.querySelector(`a[href="#${id}"]`);

      if (entry.isIntersecting) {
        link!.classList.add('font-bold');
      } else {
        link!.classList.remove('font-bold');
      }
    });
  }, {
    threshold: 0.9, 
  });

  sections.forEach((section) => {
    observer.observe(section);
  });

  
  navbarLinks.forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const targetId = link.getAttribute('href')?.substring(1); 
      
      if (targetId) {  
        const targetSection = document.getElementById(targetId);
        
        if (targetSection) { 
          targetSection.scrollIntoView({
            behavior: 'smooth', 
            block: 'center',    
          });
        }
      }
    });
  });
});
</script>

<style>
  a {
    cursor: pointer;
  }

  .font-bold {
    font-weight: normal;
    color: #C2A182;
  }

  .navbar-link {
    transition: font-weight 0.2s ease;
    z-index: 101;
  }
  
</style>
